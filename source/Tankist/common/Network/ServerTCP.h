#pragma once


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "Socket.h"



/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class ServerTCP;

struct ServerParam
{
    pFuncVIpCU16    funcOnConnect;
    pFuncVI         funcOnDisconnect;
    pFuncVIU8pVI    funcOnRecieve;      // client ID, type message, data, size data
    uint16          port;
};


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class ServerTCP
{
public:
    ServerTCP();

    bool Init(const ServerParam &servParam);
    void SendMessage(int numClient, uint8 typeMessage, void* data, uint size);
    void Close();

    ServerParam     param;

private:
    SocketServerTCP *socket;
    SocketParam     socketParam;
};
