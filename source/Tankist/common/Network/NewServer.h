#pragma once


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "Socket.h"



/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct ServerParam
{
    pFuncVIpCI      funcOnConnect;
    pFuncVI         funcOnDisconnect;
    pFuncVIU8pVI    funcOnRecieve;      // client ID, type message, data, size data
    u_short         port;
};


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class NewServer
{
public:
    NewServer();

    void Init(ServerParam *servParam);
    bool SendMessage(int numClient, uint8 typeMessage, char* data, int size);
    void Close();

    ServerParam     param;

private:
    SocketServerTCP *socket;
    SocketParam     socketParam;
};
